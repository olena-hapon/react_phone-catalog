(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(46).concat([function(e,t,c){},,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s=c(27),a=c.n(s),n=c(6),i=(c(46),c(13)),r=c(9),o=c(3),l=c(11),d=c(7),u=c.n(d);var j=function(e){var t,c="https://mate-academy.github.io/react_phone-catalog/api/products"+e+".json";return(t=300,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch(c)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))},b=Object(o.d)("products/fetch",Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),_=Object(o.e)({name:"products",initialState:{list:[],loading:!1,error:""},reducers:{},extraReducers:function(e){e.addCase(b.pending,(function(e){e.loading=!0})),e.addCase(b.fulfilled,(function(e,t){var c=t.payload;e.list=c,e.loading=!1})),e.addCase(b.rejected,(function(e){e.loading=!1,e.error="Error"}))}}).reducer,m=c(40),p=c(14),O=Object(m.a)({reducerPath:"api",baseQuery:Object(p.d)({baseUrl:"https://mate-academy.github.io/react_phone-catalog/api/products"}),tagTypes:["Product"],endpoints:function(e){return{getProductDetails:e.query({query:function(e){return"/".concat(e,".json")}})}}}),h=O.useGetProductDetailsQuery,x=c(22),v=Object(o.e)({name:"cart",initialState:{totalPrice:0,items:[]},reducers:{addItems:function(e,t){e.items.find((function(e){return e.id===t.payload.id&&e.color===t.payload.color&&e.capasity===t.payload.capasity}))||e.items.push(Object(x.a)(Object(x.a)({},t.payload),{},{count:1})),e.totalPrice=e.items.reduce((function(e,t){return t.price*t.count+e}),0)},removeItem:function(e,t){var c=e.items.find((function(e){return e.id===t.payload.id&&e.color===t.payload.color&&e.capasity===t.payload.capasity}));e.items=e.items.filter((function(e){return e!==c})),e.totalPrice=e.items.reduce((function(e,t){return t.price*t.count+e}),0)},increaseItems:function(e,t){var c=e.items.find((function(e){return e.id===t.payload.id&&e.color===t.payload.color&&e.capasity===t.payload.capasity}));c&&(c.count+=1),e.totalPrice=e.items.reduce((function(e,t){return t.price*t.count+e}),0)},decreaseItem:function(e,t){var c=e.items.find((function(e){return e.id===t.payload.id&&e.color===t.payload.color&&e.capasity===t.payload.capasity}));c&&(c.count-=1),e.totalPrice=e.items.reduce((function(e,t){return t.price*t.count+e}),0)}}}),f=v.actions,g=f.addItems,N=f.removeItem,y=f.increaseItems,D=f.decreaseItem,C=v.reducer,k=Object(o.e)({name:"favorites",initialState:{items:[]},reducers:{addToFavorites:function(e,t){e.items.find((function(e){return e.id===t.payload.id}))?e.items=e.items.filter((function(e){return e.id!==t.payload.id})):e.items.push(t.payload)}}}),S=k.actions.addToFavorites,w=k.reducer,P=Object(o.e)({name:"search",initialState:{searchValue:""},reducers:{setSearch:function(e,t){e.searchValue=t.payload}}}),M=P.actions.setSearch,F=P.reducer,A=function(){try{var e=localStorage.getItem("state");return e?JSON.parse(e):void 0}catch(t){return t}}(),T=Object(o.b)({reducer:Object(r.a)({products:_,cart:C,favorites:w,search:F},O.reducerPath,O.reducer),middleware:function(e){return e().concat(O.middleware)},preloadedState:A});T.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(c){throw new Error("Failed to save state")}}({cart:T.getState().cart,favorites:T.getState().favorites})}));var I,E=T,R=(c(53),c(4)),q=c(1),B=c(10),L=function(){return Object(i.d)()},G=i.e,U=(c(54),c(0)),$=function(){return Object(U.jsx)("div",{className:"loader",children:Object(U.jsx)("div",{className:"loader__content"})})},V=c(5),H=c.p+"static/media/GoHome.e110292a.svg",K=c.p+"static/media/Arrow_right.4756c064.svg",J=(c(56),function(){var e=Object(R.n)().pathname.slice(1).split("/");return Object(U.jsxs)("div",{className:"breadCrumbs","data-cy":"breadCrumbs",children:[Object(U.jsx)(n.b,{to:"/",className:"breadCrumbs__home-link",children:Object(U.jsx)("img",{src:H,alt:"HOME"})}),e.map((function(e){return Object(U.jsxs)(n.c,{className:"breadCrumbs__link",to:"/".concat(e),children:[Object(U.jsx)("img",{src:K,alt:"",className:"breadCrumbs__img"}),Object(U.jsx)("span",{className:"breadCrumbs__name",children:(t=e,t.split("-").join(" "))})]},e);var t}))]})}),W=c(12),z=c.n(W),X=c.p+"static/media/Arrow_down.98c9dd6d.svg",Y=c.p+"static/media/Arrow_up.a61ad2d0.svg",Q=(c(57),function(e,t){var c=new URLSearchParams(null===t||void 0===t?void 0:t.toString());return Object.entries(e).forEach((function(e){var t=Object(V.a)(e,2),s=t[0],a=t[1];null===a?c.delete(s):Array.isArray(a)?(c.delete(s),a.forEach((function(e){c.append(s,e)}))):c.set(s,a)})),c.toString()}),Z=function(e){var t=e.options,c=e.initialValue,s=e.title,a=e.searchParamsKey,i=Object(q.useState)(!1),o=Object(V.a)(i,2),l=o[0],d=o[1],u=Object(n.d)(),j=Object(V.a)(u,1)[0];return Object(U.jsxs)("div",{className:"dropDownMenu__container",onMouseLeave:function(){return d(!1)},children:[Object(U.jsx)("span",{className:"dropDownMenu__title",children:s}),Object(U.jsxs)("button",{type:"button",className:z()("dropDownMenu__button",{"dropDownMenu__button-active":l}),onClick:function(){d(!l)},children:[c,l?Object(U.jsx)("img",{src:Y,alt:"",className:"dropDownMenu__Arrow-down"}):Object(U.jsx)("img",{src:X,alt:"",className:"dropDownMenu__Arrow-down"})]}),l&&Object(U.jsx)(U.Fragment,{children:Object(U.jsx)("ul",{className:"dropDownMenu__list",children:t.map((function(e){var t;return Object(U.jsx)("li",{className:"dropDownMenu__item",children:Object(U.jsx)(n.b,{to:{search:Q((t={},Object(r.a)(t,a,e.value),Object(r.a)(t,"page","1"),t),j)},className:"dropDownMenu__item__link",children:e.name})},e.name)}))})})]})},ee=function(e){return e.price-e.price*e.discount/100},te=(c(58),c.p+"static/media/Favourites.341c6a64.svg"),ce=c.p+"static/media/Favourites_red.e06f6852.svg",se=function(e){var t=e.product,c=ee(t),s=L(),a=G((function(e){return e.favorites.items})),i=G((function(e){return e.cart.items})),r=Object(q.useState)(!1),o=Object(V.a)(r,2),l=o[0],d=o[1],u=Object(q.useState)(!1),j=Object(V.a)(u,2),b=j[0],_=j[1],m=h(t.id).data,p=Object(q.useMemo)((function(){return a.some((function(e){return e.id===t.id}))}),[a]),O=Object(q.useMemo)((function(){return i.some((function(e){return e.id===t.id}))}),[i]);return Object(U.jsxs)("div",{"data-cy":"cardContainer",className:"productCard",children:[Object(U.jsxs)("div",{className:"productCard__link-container",children:[Object(U.jsx)("div",{className:"productCard__img-container",children:Object(U.jsxs)(n.b,{to:"/".concat(t.type,"s/").concat(t.id),children:[Object(U.jsx)("img",{src:t.imageUrl,alt:"img",className:"productCard__img"}),Object(U.jsx)("img",{className:"second-img",alt:"img",src:null===m||void 0===m?void 0:m.images[1]})]})}),Object(U.jsx)(n.b,{to:"/".concat(t.type,"s/").concat(t.id),children:Object(U.jsx)("span",{className:"productCard__name",children:t.name})})]}),Object(U.jsx)("div",{className:"productCard__price-container",children:t.discount?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"productCard__price",children:"$".concat(c)}),Object(U.jsx)("div",{className:"productCard__price productCard__price-crossed",children:"$".concat(t.price)})]}):Object(U.jsx)("div",{className:"productCard__price",children:"$".concat(t.price)})}),Object(U.jsx)("div",{className:"productCard__line"}),Object(U.jsxs)("div",{className:"productCard__options",children:[Object(U.jsxs)("div",{className:"productCard__options-list",children:[Object(U.jsx)("span",{className:"productCard__options-name",children:"Screen"}),Object(U.jsx)("span",{className:"productCard__options-name",children:"Capacity"}),Object(U.jsx)("span",{className:"productCard__options-name",children:"Ram"})]}),Object(U.jsxs)("div",{className:"productCard__options-list",children:[Object(U.jsx)("span",{className:"productCard__options-value",children:t.screen}),Object(U.jsx)("span",{className:"productCard__options-value",children:t.capacity}),Object(U.jsx)("span",{className:"productCard__options-value",children:t.ram})]})]}),Object(U.jsxs)("div",{className:"productCard__buttons",children:[Object(U.jsx)("button",{type:"button",className:z()("productCard__button-add",{"productCard__button-add--active":O}),onClick:function(){d(!0);var e={id:null===t||void 0===t?void 0:t.id,title:null===t||void 0===t?void 0:t.name,imageUrl:null===t||void 0===t?void 0:t.imageUrl,price:c,color:"Biege",capasity:64};s(g(e))},children:l||O?"Added to cart":"Add to cart"}),Object(U.jsx)("button",{type:"button","data-cy":"addToFavorite",className:"productCard__button-favorite",onClick:function(){_(!0),s(S(t)),_(!1)},children:b||p?Object(U.jsx)("img",{src:ce,alt:"",className:"icon"}):Object(U.jsx)("img",{src:te,alt:"",className:"icon"})})]})]})},ae=(c(59),c(60),c.p+"static/media/Arrow_left.c0d01b22.svg"),ne=function(e){var t=e.page,c=e.pages,s=Object(n.d)(""),a=Object(V.a)(s,1)[0];return Object(U.jsxs)("ul",{className:"pagination","data-cy":"pagination",children:[Object(U.jsx)("li",{className:"pagination__item",children:Object(U.jsx)(n.b,{to:{search:Q({page:(t-1).toString()},a)},className:z()("pagination__link",{"pagination__link--disabled":1===t}),"data-cy":"paginationLeft",children:Object(U.jsx)("img",{src:ae,alt:""})})}),c.map((function(e){return Object(U.jsx)("li",{className:"pagination__item",children:Object(U.jsx)(n.b,{to:{search:Q({page:e.toString()},a)},className:z()("pagination__link",{"pagination__link--active":t===e}),children:e})},e)})),Object(U.jsx)("li",{className:"pagination__item",children:Object(U.jsx)(n.b,{to:{search:Q({page:(t+1).toString()},a)},className:z()("pagination__link",{"pagination__link--disabled":t===c.length}),"data-cy":"paginationRight",children:Object(U.jsx)("img",{src:K,alt:""})})})]})};!function(e){e.Age="age",e.Name="name",e.Price="price"}(I||(I={}));var ie=[{name:"newest",value:"age"},{name:"alphabetically",value:"name"},{name:"cheapest",value:"price"}],re=function(e,t){if("all"===e)return"all";var c=t.find((function(t){return t.value===e}));return c?c.name:""},oe=function(e){var t=e.products,c=e.title,s=t.length.toString(),a=[{name:"4",value:"4"},{name:"8",value:"8"},{name:"16",value:"16"},{name:"all",value:s}],i=G((function(e){return e.search.searchValue})),r=Object(R.n)().pathname.split("/").pop(),o=["phones","tablets","accessories"].includes(r||""),l=Object(n.d)(),d=Object(V.a)(l,1)[0],u=d.get("sort")||ie[0].value,j=d.get("perPage")||a[2].value,b=d.get("page")||"1",_=Object(q.useMemo)((function(){return t.filter((function(e){var t=i.toLowerCase();return e.name.toLowerCase().includes(t)}))}),[i,t]),m=Object(q.useMemo)((function(){var e=Object(B.a)(_);switch(u){case I.Age:return e.sort((function(e,t){return e.age-t.age}));case I.Name:return e.sort((function(e,t){return e.name.localeCompare(t.name)}));case I.Price:return e.sort((function(e,t){return ee(e)-ee(t)}));default:return _}}),[u,_]),p=Object(q.useMemo)((function(){return"all"===j?Math.ceil(+s/+s):Math.ceil(+s/+j)}),[s,j]),O=Object(q.useMemo)((function(){return function(e,t){for(var c=[],s=e;s<=t;s+=1)c.push(s);return c}(1,p)}),[p]),h=Object(q.useMemo)((function(){return"all"===j?0:+j*+b-+j}),[b,j]),x=Object(q.useMemo)((function(){return"all"===j?+s:+j*+b}),[j,b]),v=m.slice(h,x);return Object(U.jsxs)("section",{className:" main__section listProducts__container",children:[Object(U.jsx)(J,{}),Object(U.jsxs)("div",{className:"listProducts__top",children:[Object(U.jsx)("h1",{className:"listProducts__title",children:c}),Object(U.jsx)("span",{className:"listProducts__quantity",children:"".concat(v.length," models")})]}),Object(U.jsx)("div",{className:"listProducts__dropDownMenus-container",children:o&&v.length>0&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Z,{title:"Sort by",options:ie,initialValue:re(u,ie)||"newest",searchParamsKey:"sort"}),Object(U.jsx)(Z,{title:"Items on page",options:a,initialValue:re(j,a)||"16",searchParamsKey:"perPage"})]})}),m.length>0?Object(U.jsx)("ul",{className:"listProducts__list",children:v.map((function(e){return Object(U.jsx)(se,{product:e},e.id)}))}):Object(U.jsxs)("div",{className:"noSearch-result",children:[Object(U.jsx)("p",{className:"noSearch-result__message",children:"No results for"}),Object(U.jsx)("span",{className:"noSearch-result__query",children:i})]}),O.length>1&&Object(U.jsx)(ne,{page:+b,pages:O})]})},le=function(){var e,t=L(),c=G((function(e){return e.products})),s=c.list,a=c.loading,n=c.error,i=(e=s,Object(B.a)(e).filter((function(e){return"phone"===e.type})));return Object(q.useEffect)((function(){t(b())}),[t]),n?Object(U.jsx)("p",{children:"Error"}):Object(U.jsx)(U.Fragment,{children:a?Object(U.jsx)($,{}):Object(U.jsx)(oe,{products:i,title:"Mobile phones"})})},de=(c(61),c.p+"static/media/banner-phones.b4eeda8b.png"),ue=c.p+"static/media/banner-tablets.a962057c.png",je=c.p+"static/media/banner.bdd2e0fc.png",be=function(){var e=Object(q.useState)(0),t=Object(V.a)(e,2),c=t[0],s=t[1],a=Object(q.useState)(!0),n=Object(V.a)(a,2),i=n[0],r=n[1],o=[{image:de,id:1},{image:ue,id:2},{image:je,id:3}],l=function(){s(c===o.length-1?0:c+1)},d=null;return Object(q.useEffect)((function(){d=i&&setTimeout((function(){l()}),5e3)}),[c,i]),Object(U.jsxs)("div",{className:"slider main__section",onMouseEnter:function(){r(!1),clearTimeout(d)},onMouseLeave:function(){r(!0)},children:[Object(U.jsxs)("div",{className:"slider__container",children:[Object(U.jsx)("button",{type:"button",className:"slider__button",onClick:function(){s(0===c?o.length-1:c-1)},children:Object(U.jsx)("img",{src:ae,alt:"",className:"icon icon--left"})}),Object(U.jsx)("div",{className:"slider__photo-container",children:o.map((function(e,t){return Object(U.jsx)("div",{className:t===c?"slider__cards slider__cards-active":"slider__cards",children:Object(U.jsx)("img",{src:e.image,alt:"slider",className:"slider__card"})},e.id)}))}),Object(U.jsx)("button",{type:"button",className:"slider__button",onClick:l,children:Object(U.jsx)("img",{src:K,alt:"",className:"icon icon--right"})})]}),Object(U.jsx)("div",{className:"slider__pagination",children:o.map((function(e,t){return Object(U.jsx)("button",{type:"button","aria-label":"button",className:t===c?"pagination__dot pagination__dot-active":"pagination__dot",onClick:function(){return s(t)}},e.id)}))})]})},_e=(c(62),function(e){var t=e.title,c=e.products,s=Object(q.useState)(0),a=Object(V.a)(s,2),n=a[0],i=a[1],r=Object(q.useState)(null),o=Object(V.a)(r,2),l=o[0],d=o[1],u=c.length,j=Object(q.useMemo)((function(){return 263.6*n+16*n}),[n]),b="translateX(-".concat(j,"px)"),_=function(){0!==n&&i(n-1)},m=function(){n!==u-5&&i(n+1)};return Object(U.jsxs)("div",{className:"main__section slider-products",children:[Object(U.jsxs)("div",{className:"slider-products__top",children:[Object(U.jsx)("h1",{className:"slider-products__title",children:t}),Object(U.jsxs)("div",{className:"slider-products__buttons",children:[Object(U.jsx)("button",{disabled:0===n,className:"button",type:"button",onClick:function(){return _()},children:Object(U.jsx)("img",{src:ae,alt:""})}),Object(U.jsx)("button",{disabled:n===u-5,className:"button",type:"button",onClick:function(){return m()},children:Object(U.jsx)("img",{src:K,alt:""})})]})]}),Object(U.jsx)("div",{className:"slider-products__content",onTouchStart:function(e){return function(e){var t=e.touches[0].clientX;d(t)}(e)},onTouchMove:function(e){return function(e){if(null!==l){var t=e.touches[0].clientX,c=l-t;c>5&&m(),c<-5&&_(),d(null)}}(e)},children:Object(U.jsx)("ul",{onMouseMove:console.log,tabIndex:-1,className:"slider-products__list",style:{transform:b,transition:"0.4s"},children:c.map((function(e){return Object(U.jsx)("li",{className:"slider-products__item",children:Object(U.jsx)(se,{product:e})},e.id)}))})})]})}),me=(c(63),c.p+"static/media/phones_image.572a43fa.png"),pe=c.p+"static/media/tablets_image.07a53e7a.png",Oe=c.p+"static/media/accessories_image.ca41c40d.png",he=function(e){var t=e.title,c=e.products,s=function(e){return Object(B.a)(e).filter((function(e){return"phone"===e.type})).length}(c),a=function(e){return Object(B.a)(e).filter((function(e){return"tablet"===e.type})).length}(c),i=function(e){return Object(B.a)(e).filter((function(e){return"accessory"===e.type})).length}(c);return Object(U.jsxs)("section",{className:"categories main__section",children:[Object(U.jsx)("h1",{className:"categories__title",children:t}),Object(U.jsxs)("div",{className:"categories__container","data-cy":"categoryLinksContainer",children:[Object(U.jsxs)("div",{className:"categories__card",children:[Object(U.jsx)(n.b,{to:"phones",className:"categories__img categories__img-phones",children:Object(U.jsx)("img",{src:me,alt:"",className:"categories__img-position"})}),Object(U.jsxs)(n.b,{to:"phones",className:"categoties__subtitle",children:[Object(U.jsx)("h3",{className:"categories__name",children:"Mobile phones"}),Object(U.jsx)("span",{className:"categories__count",children:"".concat(s," models")})]})]}),Object(U.jsxs)("div",{className:"categories__card",children:[Object(U.jsx)(n.b,{to:"tablets",className:"categories__img categories__img-tablets",children:Object(U.jsx)("img",{src:pe,alt:"",className:"categories__img-position"})}),Object(U.jsxs)(n.b,{to:"tablets",className:"categoties__subtitle",children:[Object(U.jsx)("h3",{className:"categories__name",children:"Tablets"}),Object(U.jsx)("span",{className:"categories__count",children:" ".concat(a," models")})]})]}),Object(U.jsxs)("div",{className:"categories__card",children:[Object(U.jsx)(n.b,{to:"accesories",className:" categories__img-accessories categories__img",children:Object(U.jsx)("img",{src:Oe,alt:"",className:"categories__img-position"})}),Object(U.jsxs)(n.b,{to:"accessories",className:"categoties__subtitle",children:[Object(U.jsx)("h3",{className:"categories__name",children:"Accessories"}),Object(U.jsx)("span",{className:"categories__count",children:" ".concat(i," models")})]})]})]})]})},xe=function(){var e,t,c=L(),s=G((function(e){return e.products})),a=s.list,n=s.loading,i=s.error,r=(e=a,Object(B.a)(e).filter((function(e){return e.discount})).sort((function(e,t){return t.price*t.discount-e.price*e.discount}))),o=(t=a,Object(B.a)(t).filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price})));return Object(q.useEffect)((function(){c(b())}),[]),i?Object(U.jsx)("p",{children:i}):Object(U.jsx)(U.Fragment,{children:n?Object(U.jsx)($,{}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(be,{}),Object(U.jsx)(_e,{title:"Hot prices",products:r}),Object(U.jsx)(he,{title:"Shop by category",products:a}),Object(U.jsx)(_e,{title:"Brand new models",products:o})]})})},ve=function(){var e,t=L(),c=G((function(e){return e.products})),s=c.list,a=c.loading,n=c.error,i=(e=s,Object(B.a)(e).filter((function(e){return"tablet"===e.type})));return Object(q.useEffect)((function(){t(b())}),[t]),n?Object(U.jsx)("p",{children:"Error"}):Object(U.jsx)(U.Fragment,{children:a?Object(U.jsx)($,{}):Object(U.jsx)(oe,{products:i,title:"Tablets"})})},fe=c.p+"static/media/Cross.d99189a5.svg",ge=(c(64),c.p+"static/media/Minus.cce48622.svg"),Ne=c.p+"static/media/Plus.dea15724.svg",ye=function(e){var t=e.item,c=t.id,s=t.title,a=t.imageUrl,i=t.color,r=t.price,o=t.capasity,l=t.count,d=L();return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{className:"card",children:[Object(U.jsxs)("div",{className:"card__container",children:[Object(U.jsx)("button",{type:"button",className:"card__delete",onClick:function(){d(N({id:c,color:i,capasity:o}))},children:Object(U.jsx)("img",{src:fe,alt:"",className:"card__img-cross"})}),Object(U.jsx)(n.b,{to:"/phones/".concat(c),children:Object(U.jsx)("img",{src:a,alt:"",className:"card__image"})}),Object(U.jsx)(n.b,{to:"/phones/".concat(c),children:Object(U.jsxs)("div",{className:"card__name",children:[Object(U.jsx)("div",{className:"card__name__char",children:s}),Object(U.jsx)("div",{className:"card__name__char",children:i}),Object(U.jsx)("div",{className:"card__name__char",children:"".concat(o,"GB")})]})})]}),Object(U.jsxs)("div",{className:"card__container",children:[Object(U.jsx)("button",{type:"button",className:"card__action-quantity",disabled:1===l,onClick:function(){d(D({id:c,color:i,capasity:o}))},children:Object(U.jsx)("img",{src:ge,alt:""})}),Object(U.jsx)("span",{className:"card__quantity",children:l}),Object(U.jsx)("button",{type:"button",className:"card__action-quantity",onClick:function(){d(y({id:c,color:i,capasity:o}))},children:Object(U.jsx)("img",{src:Ne,alt:""})}),Object(U.jsx)("div",{className:"card__price",children:"$".concat(r)})]})]})})},De=(c(65),function(){var e=Object(R.p)();return Object(U.jsx)("button",{type:"button","data-cy":"backButton",className:"backButton",onClick:function(){e(-1)},children:"Back"})}),Ce=(c(66),function(){var e=G((function(e){return e.cart.items})),t=G((function(e){return e.cart.totalPrice})),c=e.reduce((function(e,t){return t.count+e}),0),s=Object(q.useState)(!1),a=Object(V.a)(s,2),n=a[0],i=a[1];return Object(U.jsxs)("section",{className:"cart main__section",children:[Object(U.jsx)(De,{}),Object(U.jsx)("h1",{className:"cart__title",children:"Cart"}),Object(U.jsxs)("div",{className:"cart__container",children:[Object(U.jsx)("div",{className:"cart__list",children:e.map((function(e){return Object(U.jsx)(ye,{item:e},e.id)}))}),e.length>0&&Object(U.jsxs)("div",{className:"cart__checkout",children:[Object(U.jsx)("div",{className:"cart__total-price",children:"$".concat(t)}),Object(U.jsx)("div",{className:"cart__total-price__quantity",children:"Total for \n                ".concat(c," items")}),Object(U.jsx)("button",{type:"button",className:"cart__button-checkout",onClick:function(){i(!0),setTimeout((function(){i(!1)}),3e3)},children:"Checkout"})]}),e.length<=0&&Object(U.jsx)("div",{className:"cart__empty",children:Object(U.jsx)("p",{className:"cart__empty-name",children:"YOU CART IS EMPTY!!!"})}),n&&Object(U.jsx)("div",{className:"cart__checkout__overlay",children:Object(U.jsx)("div",{className:"cart__checkout__message",children:"We are sorry, but this feature is not implemented yet"})})]})]})}),ke=(c(67),function(e){var t=e.title;return Object(U.jsxs)("div",{className:"notFoundPage main__section",children:[Object(U.jsx)(De,{}),Object(U.jsx)("div",{className:"notFoundPage__body",children:Object(U.jsx)("div",{className:"notFoundPage__message",children:t})})]})}),Se=(c(68),function(e){var t=e.productDetails,c=e.product,s=L(),a=G((function(e){return e.favorites.items})),n=G((function(e){return e.cart.items})),i=Object(q.useState)(),r=Object(V.a)(i,2),o=r[0],l=r[1],d=[["#FCDBC1","Biege"],["#5F7170","Green"],["#4C4C4C","Grey"],["#F0F0F0","White"]],u=[64,256,512],j=Object(q.useState)(d[0][1]),b=Object(V.a)(j,2),_=b[0],m=b[1],p=Object(q.useState)(u[0]),O=Object(V.a)(p,2),h=O[0],x=O[1],v=Object(q.useState)(!1),f=Object(V.a)(v,2),N=f[0],y=f[1],D=Object(q.useState)(!1),C=Object(V.a)(D,2),k=C[0],w=C[1],P=Object(q.useMemo)((function(){return c?ee(c):0}),[c]),M=Object(q.useMemo)((function(){return a.some((function(e){return e.id===(null===c||void 0===c?void 0:c.id)}))}),[a]),F=Object(q.useMemo)((function(){return n.some((function(e){return e.id===(null===c||void 0===c?void 0:c.id)}))}),[n]);return Object(q.useEffect)((function(){l(null===t||void 0===t?void 0:t.images[0])}),[null===t||void 0===t?void 0:t.images]),Object(U.jsxs)("section",{className:"productDetails",children:[Object(U.jsx)("h1",{className:"productDetails__title",children:null===t||void 0===t?void 0:t.name}),Object(U.jsxs)("div",{className:"productDetails__top",children:[Object(U.jsxs)("div",{className:"productDetails__images-list",children:[Object(U.jsx)("div",{className:"productDetails__images",children:null===t||void 0===t?void 0:t.images.map((function(e){return Object(U.jsx)("div",{role:"button",className:"productDetails__image",onClick:function(){return l(e)},onKeyPress:function(){},tabIndex:-1,children:Object(U.jsx)("img",{src:e,alt:"photoLittle",className:z()("productDetails__img-little",{active:e===o})})},e)}))}),Object(U.jsx)("div",{className:"productDetails__img-current",children:Object(U.jsx)("img",{src:o,alt:"phone",className:"productDetails__img-big"})})]}),Object(U.jsxs)("div",{className:"productDetails__info",children:[Object(U.jsxs)("div",{className:"productDetails__colors",children:[Object(U.jsx)("h3",{className:"productDetails__subTitle",children:"Available colors"}),Object(U.jsx)("div",{className:"productDetails__select__container",children:d.map((function(e,t){return Object(U.jsx)("button",{className:z()("productDetails__colors__button",{active:e[1]===_}),type:"button",onClick:function(){return m(e[1])},children:Object(U.jsx)("div",{className:"productDetails__colors__backGround",style:{backgroundColor:e[0]}})},e[t])}))})]}),Object(U.jsxs)("div",{className:"productDetails__capasity",children:[Object(U.jsx)("h3",{className:"productDetails__subTitle",children:"Select capacity"}),Object(U.jsx)("div",{className:"productDetails__select__container",children:u.map((function(e){return Object(U.jsx)("button",{type:"button",onClick:function(){return x(e)},className:z()("productDetails__capasity__btn",{"productDetails__capasity__btn-active":h===e}),children:"".concat(e," GB")},e)}))})]}),Object(U.jsx)("div",{className:"productDetails__price-container",children:null!==c&&void 0!==c&&c.discount?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("div",{className:"productDetails__price",children:"$".concat(P)}),Object(U.jsx)("div",{className:"productDetails__price productDetails__price-crossed",children:"$".concat(null===c||void 0===c?void 0:c.price)})]}):Object(U.jsx)("div",{className:"productDetails__price",children:"$".concat(null===c||void 0===c?void 0:c.price)})}),Object(U.jsxs)("div",{className:"productDetails__button",children:[Object(U.jsx)("button",{type:"button",className:z()("productDetails__button-add",{"productDetails__button-add--active":F}),onClick:function(){y(!0);var e={id:null===c||void 0===c?void 0:c.id,title:null===c||void 0===c?void 0:c.name,imageUrl:null===c||void 0===c?void 0:c.imageUrl,price:P,color:_,capasity:h};s(g(e))},children:N||F?"Added to cart":"Add to card"}),Object(U.jsx)("button",{type:"button",className:"productDetails__button-favourite","data-cy":"addToFavorite",onClick:function(){w(!0),s(S(c)),w(!1)},children:k||M?Object(U.jsx)("img",{src:ce,alt:"favourite",className:"productDetails__img-favourite"}):Object(U.jsx)("img",{src:te,alt:"favourite",className:"productDetails__img-favourite"})})]}),Object(U.jsxs)("div",{className:"productDetails__spec",children:[Object(U.jsxs)("div",{className:"productDetails__spec__list",children:[Object(U.jsx)("span",{className:"productDetails__spec__name",children:"Screen"}),Object(U.jsx)("span",{className:"productDetails__spec__name",children:"Resolution"}),Object(U.jsx)("span",{className:"productDetails__spec__name",children:"Processor"}),Object(U.jsx)("span",{className:"productDetails__spec__name",children:"RAM"})]}),Object(U.jsxs)("div",{className:"productDetails__spec__list",children:[Object(U.jsx)("span",{className:"productDetails__spec__value",children:null===t||void 0===t?void 0:t.display.screenSize}),Object(U.jsx)("span",{className:"productDetails__spec__value",children:null===t||void 0===t?void 0:t.display.screenResolution}),Object(U.jsx)("span",{className:"productDetails__spec__value",children:null===t||void 0===t?void 0:t.hardware.cpu}),Object(U.jsx)("span",{className:"productDetails__spec__value",children:null===t||void 0===t?void 0:t.storage.ram})]})]})]})]}),Object(U.jsxs)("div",{className:"productDetails__bottom",children:[Object(U.jsxs)("div",{className:"productDetails__about",children:[Object(U.jsx)("h3",{className:"productDetails__heading",children:"About"}),Object(U.jsx)("div",{className:"productDetails__description",children:null===t||void 0===t?void 0:t.description})]}),Object(U.jsxs)("div",{className:"productDetails__techSpecs",children:[Object(U.jsx)("h3",{className:"productDetails__heading",children:"Tech Specs"}),Object(U.jsxs)("div",{className:"productDetails__techSpecs__container",children:[Object(U.jsxs)("div",{className:"productDetails__spec__list",children:[Object(U.jsx)("span",{className:"productDetails__spec__name productDetails__spec--detailed",children:"Screen"}),Object(U.jsx)("span",{className:"productDetails__spec__name productDetails__spec--detailed",children:"Resolution"}),Object(U.jsx)("span",{className:"productDetails__spec__name productDetails__spec--detailed",children:"Processor"}),Object(U.jsx)("span",{className:"productDetails__spec__name productDetails__spec--detailed",children:"RAM"}),Object(U.jsx)("span",{className:"productDetails__spec__name productDetails__spec--detailed",children:"Battery"}),Object(U.jsx)("span",{className:"productDetails__spec__name productDetails__spec--detailed",children:"Camera"}),Object(U.jsx)("span",{className:"productDetails__spec__name productDetails__spec--detailed",children:"Weight"})]}),Object(U.jsxs)("div",{className:"productDetails__spec__list",children:[Object(U.jsx)("span",{className:"productDetails__spec__value productDetails__spec--detailed",children:null===t||void 0===t?void 0:t.display.screenSize}),Object(U.jsx)("span",{className:"productDetails__spec__value productDetails__spec--detailed",children:null===t||void 0===t?void 0:t.display.screenResolution}),Object(U.jsx)("span",{className:"productDetails__spec__value productDetails__spec--detailed",children:null===t||void 0===t?void 0:t.hardware.cpu}),Object(U.jsx)("span",{className:"productDetails__spec__value productDetails__spec--detailed",children:null===t||void 0===t?void 0:t.storage.ram}),Object(U.jsx)("span",{className:"productDetails__spec__value","productDetails__spec--detailed":!0,children:null===t||void 0===t?void 0:t.battery.type}),Object(U.jsx)("span",{className:"productDetails__spec__value productDetails__spec--detailed",children:null===t||void 0===t?void 0:t.camera.primary}),Object(U.jsx)("span",{className:"productDetails__spec__value productDetails__spec--detailed",children:null===t||void 0===t?void 0:t.sizeAndWeight.weight})]})]})]})]})]})}),we=function(){var e=Object(R.r)().productId,t=L(),c=G((function(e){return e.products})).list,s=Object(q.useMemo)((function(){return c.find((function(t){return t.id===e}))}),[c,e]),a=h(e),n=a.data,i=a.isLoading,r=a.isFetching,o=a.isSuccess;return Object(q.useEffect)((function(){}),[r,i,o,e]),Object(q.useEffect)((function(){t(b())}),[t]),Object(U.jsx)("div",{children:i?Object(U.jsx)($,{}):o?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(J,{}),Object(U.jsx)(De,{}),Object(U.jsx)(Se,{productDetails:n,product:s}),Object(U.jsx)(_e,{title:"You may also like",products:c})]}):Object(U.jsx)(ke,{title:"Page not found..."})})},Pe=(c(69),function(){return Object(U.jsxs)("section",{className:"accessories main__page",children:[Object(U.jsx)(J,{}),Object(U.jsx)("div",{className:"accessories__empty",children:Object(U.jsx)("p",{className:"accessories__empty__message",children:"Accessories not found"})})]})}),Me=(c(70),function(){var e=G((function(e){return e.favorites.items}));return Object(q.useEffect)((function(){})),Object(U.jsx)("section",{className:"favorites main__section",children:e.length<=0?Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(ke,{title:"Favorites not found"})}):Object(U.jsx)("div",{className:"favorites__conteiner",children:Object(U.jsx)(oe,{products:e,title:"Favorites"})})})}),Fe=(c(71),c.p+"static/media/LOGO.13ce922e.svg"),Ae=function(){return Object(U.jsx)("footer",{className:"footer",children:Object(U.jsxs)("div",{className:"footer__container",children:[Object(U.jsx)(n.b,{to:"/",children:Object(U.jsx)("img",{src:Fe,alt:"Logo",className:"logo logo--footer"})}),Object(U.jsxs)("nav",{className:"footer__nav",children:[Object(U.jsx)(n.b,{to:"https://github.com/olena-hapon",className:"footer__link",children:"Github"}),Object(U.jsx)(n.b,{to:"https://github.com/olena-hapon",className:"footer__link",children:"Contacts"}),Object(U.jsx)(n.b,{className:"footer__link",to:"https://github.com/olena-hapon",children:"Rights"})]}),Object(U.jsx)("button",{className:"footer__button",type:"button",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(U.jsx)("img",{src:Y,alt:"Arrow"})})]})})},Te=(c(72),function(e){var t=e.to,c=e.text;return Object(U.jsx)(n.c,{to:t,className:function(e){var t=e.isActive;return z()("nav__link",{"nav__link--active":t})},children:c})}),Ie=(c(73),c.p+"static/media/Cart.33bcadb0.svg"),Ee=c(41),Re=c.n(Ee),qe=c.p+"static/media/Search.eb670dd9.svg",Be=(c(74),function(e){var t=e.title,c=Object(q.useState)(""),s=Object(V.a)(c,2),a=s[0],i=s[1],r=Object(n.d)(),o=Object(V.a)(r,2),l=o[0],d=o[1],u=L(),j=Object(q.useCallback)(Re()((function(e){u(M(e)),d(Q({query:e},l)),e||(d(Q({query:null},l)),u(M("")))}),1e3),[]);return Object(U.jsxs)("div",{className:"search",children:[Object(U.jsx)("input",{type:"text",value:a,className:"search__input",placeholder:"Search in ".concat(t),onChange:function(e){i(e.target.value),j(e.target.value)}}),a?Object(U.jsx)("img",{src:fe,alt:"",onClick:function(){u(M("")),i(""),d(Q({query:null},l))},className:"search__img"}):Object(U.jsx)("img",{src:qe,alt:"",className:"search__img"})]})}),Le=(c(75),function(){var e=Object(q.useState)(!1),t=Object(V.a)(e,2),c=t[0],s=t[1];return Object(U.jsx)("div",{className:z()("menu",{"menu--active":c}),children:Object(U.jsxs)("div",{className:"menu__container",children:[Object(U.jsxs)("div",{className:"menu__top",children:[Object(U.jsx)(n.b,{to:"/",onClick:function(){return s(!0)},children:Object(U.jsx)("img",{src:Fe,alt:"logo",className:"logo"})}),Object(U.jsx)("div",{role:"button",className:"menu__close",onClick:function(){return s(!0)},onKeyPress:function(){},tabIndex:-1,children:Object(U.jsx)("button",{"aria-label":"menu__close",type:"button",className:"menu__close-button"})})]}),Object(U.jsx)("div",{className:"menu__content",children:Object(U.jsxs)("nav",{className:"menu__content__nav",children:[Object(U.jsx)("li",{onClick:function(){return s(!0)},children:Object(U.jsx)(Te,{to:"/",text:"Home"})}),Object(U.jsx)("li",{onClick:function(){return s(!0)},children:Object(U.jsx)(Te,{to:"phones",text:"Phones"})}),Object(U.jsx)("li",{onClick:function(){return s(!0)},children:Object(U.jsx)(Te,{to:"tablets",text:"Tablets"})}),Object(U.jsx)("li",{onClick:function(){return s(!0)},children:Object(U.jsx)(Te,{to:"accessories",text:"Accessories"})})]})})]})})}),Ge=function(){var e=Object(q.useState)(!1),t=Object(V.a)(e,2),c=t[0],s=t[1],a=Object(R.n)().pathname.split("/").pop(),i=["phones","tablets","accessories","favorites"].includes(a||""),r=G((function(e){return e.cart})).items.reduce((function(e,t){return t.count+e}),0),o=G((function(e){return e.favorites.items}));return Object(U.jsx)("header",{className:"header",children:Object(U.jsxs)("div",{className:"wrapper",children:[Object(U.jsxs)("div",{className:"header__left-side",children:[Object(U.jsx)(n.b,{to:"/",children:Object(U.jsx)("img",{src:Fe,alt:"logo",className:"logo"})}),Object(U.jsx)("div",{className:"open-menu",children:Object(U.jsx)("button",{"aria-label":"open-menu",type:"button",className:"open-menu__button",onClick:function(){s(!c)}})}),c&&Object(U.jsx)(Le,{}),Object(U.jsxs)("nav",{className:"nav",children:[Object(U.jsx)(Te,{to:"/",text:"Home"}),Object(U.jsx)(Te,{to:"phones",text:"Phones"}),Object(U.jsx)(Te,{to:"tablets",text:"Tablets"}),Object(U.jsx)(Te,{to:"accessories",text:"Accessories"})]})]}),Object(U.jsxs)("div",{className:"header__right-side",children:[i&&Object(U.jsx)(Be,{title:a}),Object(U.jsxs)(n.c,{to:"/cart",className:function(e){var t=e.isActive;return z()("header__link",{"header__link--active":t})},children:[Object(U.jsx)("img",{className:"icon",src:Ie,alt:""}),r<=0?Object(U.jsx)("div",{}):Object(U.jsx)("div",{className:"header__icon--count",children:r})]}),Object(U.jsxs)(n.c,{to:"/favorites",className:function(e){var t=e.isActive;return z()("header__link",{"header__link--active":t})},children:[Object(U.jsx)("img",{className:"icon",src:te,alt:""}),o.length<=0?Object(U.jsx)("div",{}):Object(U.jsx)("div",{className:"header__icon--count",children:o.length})]})]})]})})},Ue=function(){return Object(U.jsxs)("div",{className:"app",children:[Object(U.jsx)(Ge,{}),Object(U.jsx)("main",{className:"main",children:Object(U.jsx)("div",{className:"container",children:Object(U.jsx)(R.b,{})})}),Object(U.jsx)(Ae,{})]})},$e=function(){return Object(U.jsx)(R.e,{children:Object(U.jsxs)(R.c,{path:"/",element:Object(U.jsx)(Ue,{}),children:[Object(U.jsx)(R.c,{path:"/",element:Object(U.jsx)(xe,{})}),Object(U.jsx)(R.c,{path:"phones",element:Object(U.jsx)(le,{})}),Object(U.jsx)(R.c,{path:"phones/:productId",element:Object(U.jsx)(we,{})}),Object(U.jsx)(R.c,{path:"tablets",element:Object(U.jsx)(ve,{})}),Object(U.jsx)(R.c,{path:"tablets/:productId",element:Object(U.jsx)(we,{})}),Object(U.jsx)(R.c,{path:"accessories",element:Object(U.jsx)(Pe,{})}),Object(U.jsx)(R.c,{path:"accessories/:ProductId",element:Object(U.jsx)(we,{})}),Object(U.jsx)(R.c,{path:"favorites",element:Object(U.jsx)(Me,{title:"Favorites not found"})}),Object(U.jsx)(R.c,{path:"cart",element:Object(U.jsx)(Ce,{})}),Object(U.jsx)(R.c,{path:"*",element:Object(U.jsx)(ke,{title:"Page not found..."})}),Object(U.jsx)(R.c,{path:"home",element:Object(U.jsx)(R.a,{to:"/",replace:!0})})]})})};a.a.render(Object(U.jsx)(i.a,{store:E,children:Object(U.jsx)(n.a,{children:Object(U.jsx)($e,{})})}),document.getElementById("root"))}]),[[76,1,2]]]);
//# sourceMappingURL=main.23a74123.chunk.js.map